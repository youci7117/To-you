<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Love Popup</title>

    <style>
        :root {
            /* â˜… å¿ƒè·³ç¯€å¥ï¼šé€™è£¡æ”¹ç§’æ•¸å°±èƒ½èª¿å¿ƒè·³é€Ÿåº¦ï¼Œä¾‹å¦‚ 2sã€1.8sã€3.2s */
            --heart-duration: 2.07s;
        }

        /* å…¨åŸŸè¨­å®š */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #ffe6f2;
            font-family: "Comic Sans MS", "Microsoft JhengHei", sans-serif;
            user-select: none;
            position: relative;
        }

        /* èƒŒæ™¯å¿ƒè·³å…‰æšˆï¼ˆä¸€èˆ¬ç‹€æ…‹ï¼‰ */
        body::before {
            content: "";
            position: fixed;
            inset: -60px;
            background:
                radial-gradient(
                    circle at center,
                    rgba(255, 140, 190, 0.85),
                    rgba(255, 220, 240, 0.0) 65%
                );
            opacity: 0.6;
            pointer-events: none;
            z-index: 0;
            animation: pulseHeart var(--heart-duration, 3s) ease-in-out infinite;
            transform-origin: center center;
        }

        /* é€²å…¥ç•«é¢ */
        #enterScreen {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #ff9acb, #ffb7dd);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 2000;
            animation: fadeIn 1s ease forwards;
        }

        #enterScreen h1 {
            font-size: 32px;
            color: white;
            margin-bottom: 16px;
            text-shadow: 0 4px 10px rgba(255, 255, 255, 0.6);
        }

        /* åå­—è¼¸å…¥æ¡† */
        #nameInput {
            padding: 10px 14px;
            font-size: 18px;
            border-radius: 20px;
            border: none;
            outline: none;
            margin-bottom: 14px;
            text-align: center;
            width: 230px;
            box-shadow: 0 3px 8px rgba(255, 105, 180, 0.45);
        }

        #enterBtn {
            padding: 12px 30px;
            font-size: 20px;
            background: white;
            color: #ff5fa2;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 105, 180, 0.5);
            transition: 0.3s;
        }

        #enterBtn:hover {
            transform: scale(1.05);
        }

        /* â˜… é–‹å ´æ–‡å­—ç•«é¢ introScreen */
        #introScreen {
            position: fixed;
            inset: 0;
            background: rgba(255, 230, 242, 0.88);
            display: none; /* ä¸€é–‹å§‹éš±è—ï¼ŒæŒ‰é€²å…¥æ‰é¡¯ç¤º */
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1800;
            backdrop-filter: blur(2px);
            animation: fadeIn 0.8s ease forwards;
        }

        #introBox {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 24px 26px;
            max-width: 85vw;
            box-shadow: 0 8px 24px rgba(0,0,0,0.25);
        }

        #introTitle {
            font-size: 20px;
            color: #ff4f8b;
            margin-bottom: 12px;
            text-align: center;
        }

        #introText {
            font-size: 22px;
            color: #ff4f8b;
            line-height: 1.6;
            min-height: 120px;
        }

        .introLine {
            margin: 6px 0;
        }

        /* ä¸»å€åŸŸå®¹å™¨ */
        #mainArea {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        /* å½ˆçª—å®¹å™¨ */
        #popupContainer {
            position: absolute;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 2;
        }

        /* å½ˆçª—åŸºç¤æ¨£å¼ */
        .popupBox {
            position: absolute;
            background: white;
            border-radius: 18px;
            padding: 15px;
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.35);
            opacity: 0;
            pointer-events: none;
        }

        /* å¸¶é£„æµ®æ•ˆæœçš„å½ˆçª— */
        .popupBox.floatBubble {
            animation:
                fadeIn 0.6s ease forwards,
                floatDown var(--float-duration, 7s) ease-in-out infinite alternate;
        }

        /* åœ–ç‰‡å½ˆçª— */
        .popupImg {
            width: 240px;
            border-radius: 12px;
            display: block;
        }

        /* æ–‡å­—å½ˆçª— */
        .popupText {
            font-size: 20px;
            color: #ff4f8b;
            padding: 5px;
            max-width: 260px;
            text-align: center;
        }

        /* å°æ„›å¿ƒ */
        .heart {
            position: fixed;
            font-size: 24px;
            color: #ff4f8b;
            pointer-events: none;
            animation: heartFloat 0.9s ease-out forwards;
        }

        /* æ·¡å…¥æ•ˆæœ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* æ³¡æ³¡å¾®å¾®ä¸Šä¸‹é£„ã€å¸¶ä¸€é»æ°´å¹³åç§» */
        @keyframes floatDown {
            from {
                transform: translateY(0px) translateX(0px);
            }
            to {
                transform: translateY(30px) translateX(10px);
            }
        }

        /* å¿ƒè·³å…‰æšˆè„ˆå‹•å‹•ç•« */
        @keyframes pulseHeart {
            0% {
                opacity: 0.45;
                transform: scale(1.04);
            }
            35% {
                opacity: 0.85;
                transform: scale(1.06);
            }
            60% {
                opacity: 0.45;
                transform: scale(1.01);
            }
            100% {
                opacity: 0.35;
                transform: scale(1);
            }
        }

        /* èˆŠå½ˆçª—æ·¡å‡ºå£“åº•ï¼ˆå †ç–Šæ„Ÿ + æ¼¸æ·¡ï¼‰ */
        .fadeOutLayer {
            opacity: 0.4 !important;
            z-index: 1 !important;
            transition: opacity 1.2s ease;
        }

        /* æ„›å¿ƒå¾€ä¸Šé£„ */
        @keyframes heartFloat {
            from {
                transform: translateY(0);
                opacity: 1;
            }
            to {
                transform: translateY(-60px);
                opacity: 0;
            }
        }

        /* === æœ€å¾Œå‘Šç™½ç•«é¢ï¼šæ˜Ÿç©ºï¼‹æµæ˜ŸèƒŒæ™¯ === */
        #finalScreen {
            position: fixed;
            inset: 0;
            overflow: hidden;
            background: radial-gradient(circle at top, #25335a 0%, #050814 55%, #000000 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            animation: fadeIn 0.8s ease forwards;
        }

        /* æ˜Ÿæ˜Ÿå±¤ */
        .starLayer {
            position: absolute;
            inset: 0;
            background-image:
                radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,0.8), transparent),
                radial-gradient(2px 2px at 30% 80%, rgba(255,255,255,0.7), transparent),
                radial-gradient(2px 2px at 70% 30%, rgba(255,255,255,0.9), transparent),
                radial-gradient(1.5px 1.5px at 90% 60%, rgba(255,255,255,0.6), transparent),
                radial-gradient(1.5px 1.5px at 50% 50%, rgba(255,255,255,0.6), transparent);
            background-repeat: no-repeat;
            opacity: 0.9;
            animation: starDrift 30s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        /* æµæ˜Ÿå±¤ */
        .meteorLayer {
            position: absolute;
            width: 180px;
            height: 2px;
            background: linear-gradient(
                to left,
                rgba(255,255,255,0),
                rgba(255,255,255,0.9),
                rgba(255,255,255,0)
            );
            top: -10%;
            left: 110%;
            transform: rotate(-25deg);
            opacity: 0;
            animation: meteorShoot 2.5s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        /* æ˜Ÿç©ºæ˜Ÿæ˜Ÿä½ç§»å‹•ç•«ï¼ˆæ…¢æ…¢æ»‘å‹•ï¼‰ */
        @keyframes starDrift {
            0% {
                transform: translate3d(0, 0, 0);
            }
            100% {
                transform: translate3d(-40px, 20px, 0);
            }
        }

        /* æµæ˜Ÿå‹•ç•«ï¼šæ·¡å…¥â†’æ éâ†’æ·¡å‡º */
        @keyframes meteorShoot {
            0% {
                opacity: 0;
                transform: translate3d(0, 0, 0) rotate(-25deg);
            }
            10% {
                opacity: 1;
            }
            40% {
                opacity: 0.8;
                transform: translate3d(-140%, 120%, 0) rotate(-25deg);
            }
            100% {
                opacity: 0;
                transform: translate3d(-160%, 140%, 0) rotate(-25deg);
            }
        }

        .finalBox {
            position: relative;
            background: rgba(255, 255, 255, 0.94);
            border-radius: 20px;
            padding: 20px;
            max-width: 90vw;
            box-shadow: 0 8px 30px rgba(0,0,0,0.6);
            text-align: center;
            z-index: 2;
        }

        .finalImg {
            width: min(80vw, 360px);
            border-radius: 16px;
            display: block;
            margin: 0 auto 15px;
        }

        .finalText {
            font-size: 22px;
            margin-top: 10px;
            white-space: pre-line;
            text-shadow:
                0 0 6px rgba(255, 105, 180, 0.6),
                0 0 14px rgba(255, 255, 255, 0.9);
            background: linear-gradient(120deg, #ff9acb, #ffd1f0);
            -webkit-background-clip: text;
            color: transparent;
        }

        /* â˜… çµå°¾æŒ‰éˆ• */
        .finalBtn {
            margin-top: 16px;
            padding: 8px 20px;
            font-size: 18px;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            background: #ff9acb;
            color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .finalBtn:hover {
            transform: translateY(-1px);
        }
    </style>
</head>

<body>

    <!-- é€²å…¥ç•«é¢ -->
    <div id="enterScreen">
        <h1>ğŸ’• çµ¦ä½ çš„å°é©šå–œ ğŸ’•</h1>
        <input id="nameInput" type="text" placeholder="ä½ çš„åå­—ï¼Ÿ" />
        <button id="enterBtn">é€²å…¥</button>
    </div>

    <!-- é–‹å ´æ–‡å­—ç•«é¢ï¼ˆæŒ‰é€²å…¥å¾Œå‡ºç¾ï¼‰ -->
    <div id="introScreen">
        <div id="introBox">
            <div id="introTitle">å·å·è·Ÿä½ èªªä¸€äº›å°äº‹</div>
            <div id="introText"></div>
        </div>
    </div>

    <!-- ä¸»å€åŸŸ -->
    <div id="mainArea">
        <div id="popupContainer"></div>
    </div>

    <!-- èƒŒæ™¯éŸ³æ¨‚ -->
    <audio id="bgm" src="w7dov-s8f16.mp3" preload="auto"></audio>

    <script>
        // â–‘â–‘â–‘ ä½ çš„ 28 å¼µåœ–ç‰‡ â–‘â–‘â–‘
        const imageList = [
            "90145.jpg","90144.jpg","90143.jpg","90140.jpg",
            "90138.jpg","90137.jpg","90102.jpg","90100.jpg",
            "90097.jpg","90095.jpg","90094.jpg","90093.jpg",
            "90092.jpg","90090.jpg","90089.jpg","90088.jpg",
        ];

        // â–‘â–‘â–‘ å‘Šç™½æ–‡å­—ï¼ˆç”¨ {name} ç•¶ä½”ä½ç¬¦ï¼‰ â–‘â–‘â–‘
        const textList = [
            "ä»Šå¤©ä¹Ÿè¦é–‹å¿ƒï¼Œ{name}ï¼",
            "å¤©å¤©å¼€å¿ƒï¼",
            "äº‹äº‹å¦‚æ„ï¼",
            "å¦‚é¡˜ä»¥å„Ÿ",
            "{name}é«˜ä¸é«˜ç´šï¼",
            "{name}æ˜¯æœ€å²å®³çš„ï¼",
            "{name}èŒèŒ",
            "æˆ‘è¦ªè¦ª{name}",
            "æˆ‘æ˜¯{name}çš„å°ç‹—ï¼",
            "è€å…¬ï¼",
            "å§å§~",
            "å¯¶å¯¶ï¼",
            "è¦ªè¦ªï¼",
            "æŠ±æŠ±ï¼",
            "æ™‚é–“é‚„æœ‰å¾ˆå¤šï¼Œä½ å¯åˆ¥å·å·æºœèµ°å—",
            "æˆ‘å–œæ­¡çš„å°å¨˜å­",
            "æˆ‘å–œæ­¡ä½ ï¼",
            "æˆ‘å–œæ­¡ä½ ï¼",
            "æˆ‘å–œæ­¡ä½ ï¼",
            "æˆ‘å–œæ­¡ä½ ï¼",
            "æˆ‘å–œæ­¡ä½ ï¼",
            "å–œæ­¡{name}ï¼",
            "å°å¨˜å­~",
            "æˆ‘æƒ³ä½ äº†!",
            "æˆ‘å–œæ­¡ä½ ï¼Œ{name}ï¼",
            "èŒé¼ äº†",
            "æˆ‘æƒ³è·Ÿä½ å¥½",
            "æƒ³è·Ÿä½ åº¦éåˆä¸€å€‹å†¬å¤©",
            "è·Ÿ{name}èŠå¤©æˆ‘å¾ˆé–‹å¿ƒ"
        ];

        // â–‘â–‘â–‘ æœ€å¾Œä¸€å¼µå¤§åœ–ï¼†æœ€å¾Œä¸€æ®µè©± â–‘â–‘â–‘
        const finalImage = "90101.jpg";
        const finalMessage = "æˆ‘å–œæ­¡ä½ ï¼\nå¸Œæœ›ä½ ä»Šå¤©èƒ½éå¾—æ„‰å¿«ï¼";

        // â–‘â–‘â–‘ é–‹å ´æ‰“å­—å‹•ç•«è¦é¡¯ç¤ºçš„æ–‡å­—ï¼ˆ{name} æœƒè¢«æ›æ‰ï¼‰ â–‘â–‘â–‘
        const introLinesRaw = [
            "å‰æ®µæ™‚é–“çœ‹åˆ°äº†é€™å€‹",
            "æˆ‘å·å·æ‘¸æ‘¸ç ”ç©¶äº†ä¸€ä¸‹",
            "æŠŠä¸€äº›å›æ†¶åšæˆäº†é€™å€‹å°æ±è¥¿ï¼Œ",
            "æ¥ä¸‹ä¾†çš„ç•«é¢ï¼Œå°±åªå±¬æ–¼ä½ ã€‚",
            "æç¤ºï¼Œé€²å…¥å¾Œå¯ä»¥é»æ“Šç•«é¢äº”ä¸‹"
        ];

        const popupContainer = document.getElementById("popupContainer");
        const enterScreen = document.getElementById("enterScreen");
        const enterBtn = document.getElementById("enterBtn");
        const bgm = document.getElementById("bgm");
        const nameInput = document.getElementById("nameInput");
        const introScreen = document.getElementById("introScreen");
        const introText = document.getElementById("introText");

        let popupHistory = [];
        let popupRunning = false;
        let clickCount = 0;
        let finalShown = false;
        let targetName = "ä½ ";

        // é–‹å ´å‹•ç•«ï¼é è¼‰ç‹€æ…‹æ——æ¨™
        let imagesLoaded = false;
        let introDone = false;

        // â–‘â–‘â–‘ é è¼‰åœ–ç‰‡ï¼ˆ28 å¼µ + æœ€å¾Œå¤§åœ–ï¼‰ â–‘â–‘â–‘
        function preloadImages() {
            const allImages = [...imageList, finalImage];
            let loaded = 0;
            const total = allImages.length;

            if (total === 0) {
                imagesLoaded = true;
                maybeStartMain();
                return;
            }

            allImages.forEach(src => {
                const img = new Image();
                img.onload = img.onerror = function () {
                    loaded++;
                    if (loaded >= total) {
                        imagesLoaded = true;
                        maybeStartMain();
                    }
                };
                img.src = src;
            });

            // å®‰å…¨æ©Ÿåˆ¶ï¼šæœ€å¤šç­‰ 10 ç§’ï¼Œé¿å…æ¥µç«¯ç¶²è·¯å¡æ­»åœ¨é–‹å ´
            setTimeout(() => {
                if (!imagesLoaded) {
                    imagesLoaded = true;
                    maybeStartMain();
                }
            }, 10000);
        }

        // â–‘â–‘â–‘ é–‹å ´æ‰“å­—å‹•ç•« â–‘â–‘â–‘
        function startIntroTyping() {
            introText.innerHTML = "";
            const introLines = introLinesRaw.map(line =>
                line.replaceAll("{name}", targetName)
            );

            let lineIndex = 0;
            let charIndex = 0;
            let currentLineEl = null;

            function typeNext() {
                if (lineIndex >= introLines.length) {
                    // å…¨éƒ¨æ‰“å®Œï¼Œç¨å¾®åœä¸€ä¸‹å†çµæŸ
                    setTimeout(() => {
                        introDone = true;
                        maybeStartMain();
                    }, 800);
                    return;
                }

                const line = introLines[lineIndex];

                if (!currentLineEl) {
                    currentLineEl = document.createElement("div");
                    currentLineEl.className = "introLine";
                    introText.appendChild(currentLineEl);
                }

                currentLineEl.textContent = line.slice(0, charIndex + 1);
                charIndex++;

                if (charIndex < line.length) {
                    setTimeout(typeNext, 70);  // æ‰“å­—é€Ÿåº¦
                } else {
                    // ä¸€è¡ŒçµæŸï¼Œæ›ä¸‹ä¸€è¡Œ
                    lineIndex++;
                    charIndex = 0;
                    currentLineEl = null;
                    setTimeout(typeNext, 600); // æ¯è¡Œä¹‹é–“åœé “ä¸€ä¸‹
                }
            }

            typeNext();
        }

        // â–‘â–‘â–‘ é–‹å ´èˆ‡é è¼‰éƒ½å®Œæˆ â†’ é€²å…¥å½ˆçª—ä¸»ä¸–ç•Œ â–‘â–‘â–‘
        function maybeStartMain() {
            if (imagesLoaded && introDone) {
                introScreen.style.display = "none";
                startPopupLoop();
            }
        }

        // â–‘â–‘â–‘ é»ã€Œé€²å…¥ã€å¾Œ â–‘â–‘â–‘
        enterBtn.onclick = function () {
            const v = nameInput.value.trim();
            targetName = v || "ä½ ";

            // é—œæ‰å°é¢
            enterScreen.style.display = "none";

            // é¡¯ç¤ºé–‹å ´æ–‡å­—ç•«é¢
            introScreen.style.display = "flex";

            // æ’­æ”¾éŸ³æ¨‚ï¼ˆæ¼¸æ¼¸è®Šå¤§è²ï¼‰
            bgm.volume = 0;
            bgm.play().catch(() => {});

            let vol = 0;
            let fade = setInterval(() => {
                if (vol < 0.5) {
                    vol += 0.02;
                    bgm.volume = vol;
                } else {
                    clearInterval(fade);
                }
            }, 120);

            // åŒæ™‚å•Ÿå‹•ï¼šé è¼‰åœ–ç‰‡ + é–‹å ´æ‰“å­—å‹•ç•«
            preloadImages();
            startIntroTyping();
        };

        // â–‘â–‘â–‘ ä¸»å¾ªç’°ï¼šæ¯ä¸€è¼ªéš¨æ©Ÿå½ˆå‡º 2â€“4 å€‹ â–‘â–‘â–‘
        function startPopupLoop() {
            if (popupRunning) return;  // é¿å…é‡è¤‡å•Ÿå‹•å¤šå€‹ loop
            popupRunning = true;

            function launchRound() {
                if (!popupRunning) return;

                // èˆŠçš„ä¸€è¼ª
                const oldPopups = popupHistory;
                oldPopups.forEach(box => {
                    setTimeout(() => {
                        box.classList.add("fadeOutLayer");
                    }, 2000);
                    setTimeout(() => {
                        if (box.parentNode) box.remove();
                    }, 8000);
                });

                // æ–°çš„ä¸€è¼ª
                let count = Math.floor(Math.random() * 3) + 2; // 2~4 å€‹
                let newRound = [];

                for (let i = 0; i < count; i++) {
                    let isImage = Math.random() < 0.35;
                    let box = document.createElement("div");
                    box.className = "popupBox floatBubble"; 

                    let floatDuration = Math.random() * 4 + 6; // 6~10 ç§’
                    box.style.setProperty("--float-duration", floatDuration + "s");

                    let size = Math.random() * 80 + 180;

                    if (isImage) {
                        let img = document.createElement("img");
                        img.src = imageList[Math.floor(Math.random() * imageList.length)];
                        img.className = "popupImg";
                        img.style.width = size + "px";
                        box.appendChild(img);
                    } else {
                        let txt = document.createElement("div");
                        txt.className = "popupText";

                        let raw = textList[Math.floor(Math.random() * textList.length)];
                        let msg = raw.replaceAll("{name}", targetName);
                        txt.innerText = msg;

                        box.appendChild(txt);
                    }

                    let maxX = window.innerWidth - 260;
                    let maxY = window.innerHeight - 260;
                    let x = Math.random() * maxX;
                    let y = Math.random() * maxY;

                    box.style.left = x + "px";
                    box.style.top = y + "px";
                    box.style.zIndex = 1500;

                    popupContainer.appendChild(box);
                    newRound.push(box);
                }

                popupHistory = newRound;

                let delay = Math.random() * 1000 + 800;
                setTimeout(launchRound, delay);
            }

            setTimeout(launchRound, 1000);
        }

        // â–‘â–‘â–‘ é¡¯ç¤ºæœ€å¾Œå¤§åœ–ï¼‹æ–‡å­—ï¼ˆçµæŸç•«é¢ï¼šæ˜Ÿç©ºï¼‰ â–‘â–‘â–‘
        function showFinal() {
            if (finalShown) return;
            finalShown = true;
            // ä¸æŠŠ popupRunning è¨­æˆ falseï¼Œè®“å½ˆçª—åœ¨èƒŒå¾Œç¹¼çºŒè·‘

            const overlay = document.createElement("div");
            overlay.id = "finalScreen";

            // æ˜Ÿç©º + æµæ˜Ÿå±¤
            const stars = document.createElement("div");
            stars.className = "starLayer";
            const meteor = document.createElement("div");
            meteor.className = "meteorLayer";

            const box = document.createElement("div");
            box.className = "finalBox";

            const img = document.createElement("img");
            img.src = finalImage;
            img.className = "finalImg";

            const text = document.createElement("div");
            text.className = "finalText";
            text.innerText = finalMessage;

            const btn = document.createElement("button");
            btn.className = "finalBtn";
            btn.innerText = "æˆ‘ä¹Ÿå–œæ­¡ä½ ";

            // æŒ‰éˆ•ï¼šé—œé–‰çµå°¾ç•«é¢ï¼Œå›åˆ°å½ˆçª—ä¸–ç•Œ
            btn.onclick = () => {
                overlay.remove();
                // ä¸é‡ç½® finalShownï¼šä¸å†å‡ºç¬¬äºŒæ¬¡çµå±€
            };

            box.appendChild(img);
            box.appendChild(text);
            box.appendChild(btn);

            overlay.appendChild(stars);
            overlay.appendChild(meteor);
            overlay.appendChild(box);

            document.body.appendChild(overlay);
        }

        // â–‘â–‘â–‘ é»æ“Šç•«é¢æ™‚ï¼šæ„›å¿ƒ + çµ±è¨ˆé»æ“Šæ¬¡æ•¸ â–‘â–‘â–‘
        document.addEventListener("click", function (e) {
            // å°é¢æˆ–é–‹å ´å‹•ç•«æ™‚ï¼Œéƒ½ä¸è¦å‡ºæ„›å¿ƒï¼ä¸è¦è¨ˆé»æ“Š
            if (enterScreen.style.display !== "none") return;
            if (introScreen.style.display !== "none") return;

            if (!finalShown) {
                clickCount++;
                if (clickCount >= 5) {
                    showFinal();
                }
            }

            let heart = document.createElement("div");
            heart.className = "heart";
            heart.innerText = "â¤";

            heart.style.left = e.clientX + "px";
            heart.style.top = e.clientY + "px";

            document.body.appendChild(heart);

            setTimeout(() => heart.remove(), 900);
        });
    </script>
</body>
</html>
